# AWS Resource Cleaner Instructions

This directory contains a suite of scripts designed to safe-clean AWS resources from your account (`us-east-1`).

## Technology Stack: Python & Boto3

These scripts use **Boto3** (AWS SDK for Python) to interact directly with AWS APIs.

**Capabilities:**
*   **Direct API Control:** Execute raw AWS commands (e.g., "delete this specific ID now").
*   **Universal Coverage:** Interact with almost every AWS service programmatically.
*   **Logic-Based Operations:** Ideal for conditional tasks like "clean up resources older than X days."

**Limitations (vs. Terraform):**
*   **Imperative, Not Declarative:** Boto3 requires you to script *how* to do things (step-by-step). Terraform lets you define *what* the end state should be.
*   **No State File:** Boto3 has no memory of previous deployments. Terraform maintains a state file (`.tfstate`) to track and manage infrastructure lifecycle.
*   **Manual Dependency Handling:** In Boto3, you must manually code the order of operations (e.g., delete Subnets before VPC). Terraform automatically resolves these dependency graphs.

## Files
*   **`config.py`**: Configuration file for defining the specific AWS Region and the report file path. **Check this file first** to ensure variables are correct.
*   **`aws-services-reader.py`**: Scans the AWS account and generates a Markdown report of existing resources.
*   **`aws-services-cleaner.py`**: Reads the generated report and deletes the resources listed in it, using a dependency-aware deletion order.
*   **`aws-services-reader.md`**: The report file generated by the reader and used by the cleaner.

## Recommended Workflow

Follow this sequence to ensure safe and correct deletion:

### 1. Scan and Generate Report
First, run the reader script to fetch the current state of your AWS resources. This will overwrite `aws-services-reader.md` with a fresh list.

```powershell
python aws-services-reader.py
```

### 2. Review the Report
Open `aws-services-reader.md`.
*   Review the list of resources.
*   **Important**: The cleaner will attempt to delete **everything** listed in this file.

### 3. Execute Cleanup
Run the cleaner script. It will parse the MD file and delete resources in the correct dependency order (e.g., Applications -> Load Balancers -> Network -> VPC).

```powershell
python aws-services-cleaner.py
```

*   **Progress**: As resources are deleted, the script updates the `aws-services-reader.md` file, marking deleted items in <span style="color:red">RED</span>.
*   **Dependencies**: The script handles dependencies (e.g., waiting for a Load Balancer to vanish before deleting its Target Groups).
*   **Retries**: If a resource is stuck (e.g., "DependencyViolation"), the script may retry or skip it. Rerunning the script is safe.
*   **Defaults**: The script automatically skips AWS default resources (Default Security Groups, Default Network ACLs) as they cannot be deleted.

### 4. Verify Final State
To confirm everything is truly gone, run the reader script again.

```powershell
python aws-services-reader.py
```

The resulting `aws-services-reader.md` should be empty or only contain non-deletable default resources.
